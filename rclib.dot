function _exists() {
	local bin=${1}

    if [ -n "${ZSH_VERSION}" ]; then
        local -r _not_found_pattern="not found$"
        if [[ "$(which "${1}" 2> /dev/null)" =~ ${_not_found_pattern} ]]; then
            echo 0
        else
            echo 1
        fi
    else
        which "${1}" 2>&1 > /dev/null
        if [[ 0 != "$?" ]]; then
            echo 0
        else
            echo 1
        fi
    fi
}

if [ -n "${ZSH_VERSION}" ]; then
    # Helpful arm-ldd function
    if [[ "1" == "$(which patchelf)" ]]; then
        function arm-ldd() { patchelf --print-needed $1 }
    else
        function arm-ldd() { readelf -d $1 | grep "\(NEEDED\)" | sed -r "s/.*\[(.*)\]/\1/" }
    fi
fi

function a2a() {
	adb wait-for-device pull /sys/fs/selinux/policy
	adb logcat -b all -d | audit2allow -p policy
}
